import { AboutSlint, Button, VerticalBox, HorizontalBox, ScrollView, ListView, ComboBox, StandardListView, TabWidget, GridBox } from "std-widgets.slint";
import { ButtonBox } from "../button-box.slint";
import { Theme } from "../../../assets/theme/theme.slint";
import { Header } from "../header.slint";


export component HomeMain inherits Window {
    width: 800px;
    height: 480px;
    animate opacity {
        duration: 0.3s;
        easing: ease-out-quad;
    }

    in-out property <string> currentPage;
    property <bool> tapBtnActive: false;
    property <bool> warmBtnActive: true;
    property <bool> coldBtnActive:false;

    callback hamClick;
    VerticalBox {
        // Header
        Header {
            currentPage: currentPage;
            previousPage: "";
        }

        HorizontalBox {
            padding: 0;
            VerticalBox {
                height: 410px;
                padding: 0;

                Rectangle {
                    background: Theme.palette.bg.white;
                    height: 133px;
                    border-radius: 20px;
                    padding: 10px;

                    HorizontalLayout {
                        padding: 10px;
                        spacing: 10px;

                        VerticalBox {
                            padding: 10px;
                            Text {
                                text: "Acqua calda sanitaria  | 52째 C";
                                font-size: 20px;
                                color: Theme.palette.text.gray-3;
                                font-family: "Sailec-Light";
                                font-weight: 400;
                                height: 35px;
                                vertical-alignment: center;
                            }

                            Rectangle {
                                HorizontalBox {
                                    padding: 0px;
                                    padding-bottom: -20px;
                                    Text {
                                        vertical-alignment: bottom;
                                        text: "44.2째";
                                        font-size: 50px;
                                        color: Theme.palette.text.gray-1;
                                        font-family: "Sailec-Light";
                                        font-weight: 300;
                                    }
                                }
                            }
                        }

                    // arrow up-down buttons
                    VerticalBox {
                            alignment: end;
                            HorizontalBox {
                                padding: 0;
                                padding-bottom: -15px;

                                ButtonBox {
                                    img: @image-url("../../../assets/images/arrow-up.svg");
                                    width: 80px;
                                    height: 80px;
                                }

                                ButtonBox {
                                    img: @image-url("../../../assets/images/arrow-down.svg");
                                    width: 80px;
                                    height: 80px;
                                }
                            }
                        }

                        // Valve button
                        Rectangle {
                            width: 93px;
                            border-width: 2px;
                            border-color: Theme.palette.border.gray;
                            border-radius: 15px;
                            background: Theme.palette.gray-bg;
                            tap-btn := ButtonBox {
                                animate background { duration: 0.2s; }
                                background: tapBtnActive ? Theme.palette.bg.white : Theme.palette.gray-bg;
                                width: parent.width - 10px;
                                height: parent.height - 10px;
                                border-radius: 10px;

                                Image {
                                    source: @image-url("../../../assets/images/tap.svg");
                                }

                                clicked => {
                                    tapBtnActive = !tapBtnActive;
                                }
                            }
                        }
                    }
                }

                // season section
                Rectangle {
                    background: Theme.palette.bg.white;
                    height: 270px;
                    border-radius: 20px;
                    padding: 10px;

                    HorizontalLayout {
                        padding: 10px;
                        spacing: 10px;

                        VerticalBox {
                            padding: 10px;
                            Text {
                                text: "Impianto  | 52째 C";
                                font-size: 20px;
                                color: Theme.palette.text.gray-3;
                                font-family: "Sailec-Light";
                                font-weight: 400;
                            }

                            Rectangle {
                                padding: 0;
                                HorizontalBox {
                                    padding: 0;
                                    padding-bottom: -30px;
                                    height: 100%;
                                    Text {
                                        vertical-alignment: bottom;
                                        padding: 0;
                                        text: "23.5째";
                                        font-weight: 300;
                                        font-size: 116px;
                                        font-family: "Sailec-Light";
                                        color: Theme.palette.text.gray-1;
                                    }
                                }
                            }
                        }

                    // arrow up-down buttons
                    VerticalBox {
                            alignment: end;
                            HorizontalBox {
                                padding: 0;
                                padding-bottom: -10px;

                                ButtonBox {
                                    img: @image-url("../../../assets/images/arrow-up.svg");
                                    width: 80px;
                                    height: 80px;
                                }

                                ButtonBox {
                                    img: @image-url("../../../assets/images/arrow-down.svg");
                                    width: 80px;
                                    height: 80px;
                                }
                            }
                        }

                        Rectangle {
                            width: 93px;
                            border-width: 2px;
                            border-color: Theme.palette.border.gray;
                            border-radius: 15px;
                            background: Theme.palette.gray-bg;

                        // season button
                        VerticalBox {
                                padding: 5px;

                                Rectangle {
                                    height: parent.height / 2 - 10px;
                                    season-warm-btn := ButtonBox {
                                        background: warmBtnActive ? Theme.palette.bg.white : Theme.palette.gray-bg;
                                        border-radius: 10px;
                                        animate background { duration: 0.2s; }
                                        Image {
                                            source: @image-url("../../../assets/images/season-warm.svg");
                                        }

                                        clicked => {
                                            warmBtnActive = !warmBtnActive;
                                        }
                                    }
                                }

                                Rectangle {
                                    season-cold-btn := ButtonBox {
                                        animate background { duration: 0.2s; }
                                        background: coldBtnActive ? Theme.palette.bg.white : Theme.palette.gray-bg;
                                        border-radius: 10px;

                                        Image {
                                            source: @image-url("../../../assets/images/season-cold.svg");
                                        }

                                        clicked => {
                                            coldBtnActive = !coldBtnActive;
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }

            // Menu button
            ButtonBox {
                background: Theme.palette.bg.white;
                width: 103px;
                border-radius: 20px;
                Image {
                    source: @image-url("../../../assets/images/hamburger.svg");
                }

                clicked => {
                    currentPage = "HomeMaster"
                }
            }
        }
    }
}
